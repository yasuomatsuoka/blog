
<!DOCTYPE html>
<html lang="ja">
<head>

  
  <meta charset="UTF-8">
  <title>
    Hugo のセットアップ | やすおのぶろぐ
  </title>


  
  <meta name="viewport" content="width=device-width,user-scalable=no,maximum-scale=1,initial-scale=1">

  
  <link rel="canonical" href="http://yasuomatsuoka.github.io/blog/2016/05/hugo-%E3%81%AE%E3%82%BB%E3%83%83%E3%83%88%E3%82%A2%E3%83%83%E3%83%97/"/>

  
  <link rel="stylesheet" href="http://yasuomatsuoka.github.io/blog/css/sanitize.css">
  <link rel="stylesheet" href="http://yasuomatsuoka.github.io/blog/css/responsive.css">
  <link rel="stylesheet" href="http://yasuomatsuoka.github.io/blog/css/highlight_monokai.css">
  <link rel="stylesheet" href="http://yasuomatsuoka.github.io/blog/css/theme.css">
  <link rel="stylesheet" href="http://yasuomatsuoka.github.io/blog/css/custom.css">
  
  
  <link href="http://yasuomatsuoka.github.io/blog/index.xml" rel="alternate" type="application/rss+xml" title="やすおのぶろぐ" />
  <link href="http://yasuomatsuoka.github.io/blog/index.xml" rel="feed" type="application/rss+xml" title="やすおのぶろぐ" />

  
  


</head>



<body>
<div class="container">

  
  <header role="banner">
    <div class="row gutters">
      <div id="site-title" class="col span_6">
        <h1><a href="http://yasuomatsuoka.github.io/blog/">やすおのぶろぐ</a></h1>
        
      </div>
      <div id="social" class="col span_6">
        <ul>
          <li><a href="https://twitter.com/yasuomatsuoka" target="_blank">Twitter</a></li>
          
          <li><a href="https://github.com/yasuomatsuoka" target="_blank">GitHub</a></li>
          
        </ul>
      </div>
    </div>
  </header>


  
  <main id="single" role="main">
    <div class="article-header">
      <h1>Hugo のセットアップ</h1>
      <div class="meta">
        May 1, 2016 &nbsp;
        
      </div>
    </div>
    <article>
      

<h1 id="hugo-設定メモ">Hugo 設定メモ</h1>

<h2 id="参考">参考</h2>

<p>こちらの手順通り実行
<a href="http://blog.syati.info/post/create_hugo/">Hugo Part 1 - Hugo で github にブログを立ち上げる</a></p>

<h2 id="hugo-のインストール">Hugo のインストール</h2>

<pre><code>$ brew install hugo
</code></pre>

<h2 id="ブログの作成">ブログの作成</h2>

<pre><code>$ pwd
/Users/yasuo
$ hugo new site ./blog
</code></pre>

<h2 id="記事の作成">記事の作成</h2>

<pre><code>$ pwd
/Users/yasuo/blog
$ hugo new post/setup_hugo.md
</code></pre>

<h2 id="テーマ式インストール">テーマ式インストール</h2>

<pre><code>$ pwd
/Users/yasuo/blog
$ git clone -\-recursive https://github.com/spf13/hugoThemes themes
</code></pre>

<h2 id="ブログの確認">ブログの確認</h2>

<pre><code>$ hugo server -\-theme=gindoro -\-buildDrafts
</code></pre>

<h2 id="github-のレポジトリの準備">github のレポジトリの準備</h2>

<p>ブログ用のレポジトリを作成する</p>

<pre><code>http://yasuomatsuoka.gihub.io/blog
</code></pre>

<h2 id="blog-の設定ファイルをいじる">blog の設定ファイルをいじる</h2>

<pre><code>config.toml
baseurl = &quot;http://yasuomatsuoka.github.io/blog&quot;
languageCode = &quot;ja-jp&quot;
title = &quot;やすおのぶろぐ&quot;
theme = &quot;gindoro&quot;
canonifyurls = true # 相対パスではなく baseurl を基点とした絶対パスにする

[params]
  Description = &quot;ソフトウェア開発的なこととか自転車のこととか食べ物のこと&quot;
  Author = &quot;Yasuo Matsuoka&quot;
  GithubUser = &quot;yasuomatsuoka&quot;

[taxonomies]
  categories = [ &quot;Development&quot; ]
  tags = [ &quot;Development&quot;, &quot;Blogging&quot;, &quot;Food&quot;, &quot;Bike&quot; ]
</code></pre>

<h2 id="hugo-をコミットする">Hugo をコミットする</h2>

<pre><code>$ git init
$ git remote add origin git@github.com:yasuomatsuoka/blog.git
$ git add -A
$ git commit -m 'initial hugo commit.'
$ git push origin master
</code></pre>

<h2 id="gh-pages-ブランチを作成する">gh-pages ブランチを作成する</h2>

<p>public ディレクトリのみ管理するブランチを作成</p>

<pre><code>$ git checkout --orphan gh-pages   # orphan ブランチ 作成
$ git rm --cached $(git ls-files)  # 要らないので、全て管理対象からすべて外す
$ git add README.md                # README.md だけいれておく
$ git commit -m &quot;initial commit on gh-pages branch&quot;
$ git push origin gh-pages
</code></pre>

<p>gh-pages ブランチを master の public に取り込む</p>

<pre><code>$ git checkout master
$ git subtree add --prefix=public git@github.com:yasuomatsuoka/blog.git gh-pages --squash
$ git subtree pull --prefix=public git@github.com:yasuomatsuoka/blog.git gh-pages
</code></pre>

<p>master の変更を gh-pages が追えるようになったので public を作成</p>

<pre><code>$ hugo
$ git add -A
$ git commit -m 'updated blog.'
$ git push origin master
$ git subtree push --prefix=public git@github.com:yasuomatsuoka/blog.git gh-pages
</code></pre>

<h2 id="デプロイスクリプトを作成">デプロイスクリプトを作成</h2>

<p>blog 以下に作成</p>

<pre><code># !/bin/bash

echo -e &quot;\033[0;32mDeploying updates to GitHub...\033[0m&quot;

# Build the project.
hugo

# Add changes to git.
git add -A

# Commit changes.
msg=&quot;rebuilding site `date`&quot;
if [ $# -eq 1 ]
  then msg=&quot;$1&quot;
fi
git commit -m &quot;$msg&quot;

# Push source and build repos.
git push origin master
git subtree push --prefix=public git@github.com:[username]/yourblog.git gh-pages　
</code></pre>

<p>権限付与</p>

<pre><code>chmod +x deploy.sh
</code></pre>

<p>デプロイ</p>

<pre><code>./deploy.sh
</code></pre>

      
      
      
    </article>
    


  </main>
  
  <nav class="pagination-single">
    
      <span class="previous">&larr; <a href="http://yasuomatsuoka.github.io/blog/1/01/" rel="prev"></a></span>
    
    
  </nav>


  
  <footer role="contentinfo">
    <div style="text-align:center;">
      <img src="http://yasuomatsuoka.github.io/blog/images/profile.jpg" width="64" height="64"><br>
      Written by Yasuo Matsuoka
    </div>
  </footer>


</div>

<script src="http://yasuomatsuoka.github.io/blog/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-77379841-1', 'auto');
	ga('send', 'pageview');
</script>

</body>
</html>


<!DOCTYPE html>
<html class="no-js" lang="en-US">
    <head>
        <meta charset="utf-8">

        

        <base href="http://yasuomatsuoka.github.io/blog">
        <title>やすおのぶろぐ</title>
        <link rel="canonical" href="http://yasuomatsuoka.github.io/blog/2016/05/hugo-%E3%81%AE%E3%82%BB%E3%83%83%E3%83%88%E3%82%A2%E3%83%83%E3%83%97/">
        <link href="" rel="alternate" type="application/rss+xml" title="やすおのぶろぐ"/>

        
<link rel="stylesheet" href="css/styles.css">


<link href='http://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.3.0/katex.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.3.0/katex.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.3.0/contrib/auto-render.min.js"></script>

    </head>
    <body>
        <div class="column">

<header class="header">
    <a href="http://yasuomatsuoka.github.io/blog/" class="title">やすおのぶろぐ</a>
    <p>ソフトウェア開発的なこととか自転車のこととか食べ物のこと</p>
</header>


<section id="main">
    <header class="post-header">
      <p class="post-title"><a href="http://yasuomatsuoka.github.io/blog/2016/05/hugo-%E3%81%AE%E3%82%BB%E3%83%83%E3%83%88%E3%82%A2%E3%83%83%E3%83%97/">Hugo のセットアップ </a></p>
      <p class="post-meta">May 1 2016 - 2 min </p>
    </header>
    <article itemprop="articleBody" id="content">
       

<h1 id="hugo-設定メモ:7c21f512ddbb9f445d5ebc3f639b8b0d">Hugo 設定メモ</h1>

<h2 id="参考:7c21f512ddbb9f445d5ebc3f639b8b0d">参考</h2>

<p>こちらの手順通り実行
<a href="http://blog.syati.info/post/create_hugo/">Hugo Part 1 - Hugo で github にブログを立ち上げる</a></p>

<h2 id="hugo-のインストール:7c21f512ddbb9f445d5ebc3f639b8b0d">Hugo のインストール</h2>

<pre><code>$ brew install hugo
</code></pre>

<h2 id="ブログの作成:7c21f512ddbb9f445d5ebc3f639b8b0d">ブログの作成</h2>

<pre><code>$ pwd
/Users/yasuo
$ hugo new site ./blog
</code></pre>

<h2 id="記事の作成:7c21f512ddbb9f445d5ebc3f639b8b0d">記事の作成</h2>

<pre><code>$ pwd
/Users/yasuo/blog
$ hugo new post/setup_hugo.md
</code></pre>

<h2 id="テーマ式インストール:7c21f512ddbb9f445d5ebc3f639b8b0d">テーマ式インストール</h2>

<pre><code>$ pwd
/Users/yasuo/blog
$ git clone -\-recursive https://github.com/spf13/hugoThemes themes
</code></pre>

<h2 id="ブログの確認:7c21f512ddbb9f445d5ebc3f639b8b0d">ブログの確認</h2>

<pre><code>$ hugo server -\-theme=gindoro -\-buildDrafts
</code></pre>

<h2 id="github-のレポジトリの準備:7c21f512ddbb9f445d5ebc3f639b8b0d">github のレポジトリの準備</h2>

<p>ブログ用のレポジトリを作成する</p>

<pre><code class="language-http://yasuomatsuoka.gihub.io/blog```">
## blog の設定ファイルをいじる
```config.toml
baseurl = &quot;http://yasuomatsuoka.github.io/blog&quot;
languageCode = &quot;ja-jp&quot;
title = &quot;やすおのぶろぐ&quot;
theme = &quot;gindoro&quot;
canonifyurls = true # 相対パスではなく baseurl を基点とした絶対パスにする

[params]
  Description = &quot;ソフトウェア開発的なこととか自転車のこととか食べ物のこと&quot;
  Author = &quot;Yasuo Matsuoka&quot;
  GithubUser = &quot;yasuomatsuoka&quot;

[taxonomies]
  categories = [ &quot;Development&quot; ]
  tags = [ &quot;Development&quot;, &quot;Blogging&quot;, &quot;Food&quot;, &quot;Bike&quot; ]
</code></pre>

<h2 id="hugo-をコミットする:7c21f512ddbb9f445d5ebc3f639b8b0d">Hugo をコミットする</h2>

<pre><code>$ git init
$ git remote add origin git@github.com:yasuomatsuoka/blog.git
$ git add -A
$ git commit -m 'initial hugo commit.'
$ git push origin master
</code></pre>

<h2 id="gh-pages-ブランチを作成する:7c21f512ddbb9f445d5ebc3f639b8b0d">gh-pages ブランチを作成する</h2>

<p>public ディレクトリのみ管理するブランチを作成</p>

<pre><code>$ git checkout --orphan gh-pages   # orphan ブランチ 作成
$ git rm --cached $(git ls-files)  # 要らないので、全て管理対象からすべて外す
$ git add README.md                # README.md だけいれておく
$ git commit -m &quot;initial commit on gh-pages branch&quot;
$ git push origin gh-pages
</code></pre>

<p>gh-pages ブランチを master の public に取り込む</p>

<pre><code>$ git checkout master
$ git subtree add --prefix=public git@github.com:yasuomatsuoka/blog.git gh-pages --squash
$ git subtree pull --prefix=public git@github.com:yasuomatsuoka/blog.git gh-pages
</code></pre>

<p>master の変更を gh-pages が追えるようになったので public を作成</p>

<pre><code>$ hugo
$ git add -A
$ git commit -m 'updated blog.'
$ git push origin master
$ git subtree push --prefix=public git@github.com:yasuomatsuoka/blog.git gh-pages
</code></pre>

<h2 id="デプロイスクリプトを作成:7c21f512ddbb9f445d5ebc3f639b8b0d">デプロイスクリプトを作成</h2>

<p>blog 以下に作成</p>

<pre><code># !/bin/bash

echo -e &quot;\033[0;32mDeploying updates to GitHub...\033[0m&quot;

# Build the project.
hugo

# Add changes to git.
git add -A

# Commit changes.
msg=&quot;rebuilding site `date`&quot;
if [ $# -eq 1 ]
  then msg=&quot;$1&quot;
fi
git commit -m &quot;$msg&quot;

# Push source and build repos.
git push origin master
git subtree push --prefix=public git@github.com:[username]/yourblog.git gh-pages　
</code></pre>

<p>権限付与</p>

<pre><code>chmod +x deploy.sh
</code></pre>

<p>デプロイ</p>

<pre><code>./deploy.sh
</code></pre>

    </article>
</section>

<footer class="bottom-footer">
  <div class="copyright">
    <p>
    &copy; Yasuo Matsuoka.
    <a href="http://creativecommons.org/licenses/by/4.0/" title="Creative Commons Attribution">Some rights reserved</a>; 
    please attribute properly and link back.
    
    <a href="https://github.com/yasuomatsuoka">github.</a>
    </p>
  </div>
</footer>

<script>
    renderMathInElement(document.getElementById('main'));
</script>

</div>
</body>
</html>

